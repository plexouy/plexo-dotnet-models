#!/bin/sh
# Husky pre-commit hook to run dotnet format

export PATH="$PATH:$HOME/.dotnet/tools"

echo "ğŸ” Running pre-commit checks..."

# Run .NET formatting
echo "ğŸ“¦ Checking .NET formatting..."
dotnet format --verify-no-changes --verbosity quiet
DOTNET_RESULT=$?

if [ $DOTNET_RESULT -ne 0 ]; then
  echo "âŒ .NET formatting issues found. Running formatter..."
  dotnet format
  echo "âœ… .NET code formatted. Please review changes and commit again."
  exit 1
fi

echo "âœ… .NET formatting check passed"
